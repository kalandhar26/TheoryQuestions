========= API Gateway =======

##### How would you secure customer login requests through API Gateway?

##### If a payment service is down, How should API Gateway respond to the mobile app?

##### How do you handle rate limiting for high-frequency fund transfer APIs?

##### How would you design API Gateway to route requests to multiple versions of the loan service?

##### How do you enforce SSL/TLS at API Gateway level?

##### How do you handle authentication tokens at API Gateway for internet banking?

##### How do you manage request/response transformations (e.g., masking account numbers)?

##### How do you implement throttling for ATM withdrawal APIs?

##### How do you handle multi-region routing in a global banking app?

##### How would you log customer activity at API Gateway?

##### How do you integrate fraud detection checks at API Gateway?

##### How do you handle retries at API Gateway level?

##### How do you block suspicious IPs at API Gateway?

##### How do you manage backward compatibility when APIs change?

##### How do you expose APIs to third-party fintech partners securely?

##### How do you handle caching of static data (e.g., branch list)?

##### How do you implement request validation at API Gateway?

##### How do you manage failover between primary and backup services?

##### How do you handle versioning of APIs in API Gateway?

##### How do you integrate API Gateway with OAuth2 for customer login?

##### How do you handle large payloads (e.g., loan documents)?

##### How do you implement audit logging at API Gateway?

##### How do you handle latency monitoring at API Gateway?

##### How do you manage routing between microservices in hybrid cloud?

##### How do you handle customer session management at API Gateway?

##### In your banking app, mobile users call many services (account balance, transaction history, fund transfer) separately. How would you use an API Gateway to make this simpler and faster?

##### A customer in the banking portal experiences slow login during peak hours because too many requests hit the auth service. How can the API Gateway help control this?

##### You need to add JWT token validation for all APIs in a banking system. Where and how would you implement it using Spring Cloud Gateway or Zuul?

##### In a banking microservices setup, different clients (mobile, web, ATM) need different response formats. How can the API Gateway handle request/response transformation?

##### During a festival offer, traffic to the loan approval service spikes 10x. How would you use rate limiting in the API Gateway to protect the system?

##### A fraud team wants to block IPs from certain countries for all banking APIs. How can the API Gateway enforce this security rule?

##### You have to combine data from account service + transaction service into one "account summary" response. How would the API Gateway help aggregate this?

##### In production, one backend service is down, but users still see partial data. How can the API Gateway provide fallback or graceful degradation?

##### Banking APIs must log every request (user ID, IP, endpoint) for audit. How would you add centralized logging at the API Gateway level?

##### You need to route /api/accounts/* to account-service and /api/payments/* to payment-service dynamically. How does the API Gateway handle path-based routing?

##### A new version of the transaction service is deployed, but you want to route only 10% traffic to test it. How can the API Gateway support canary routing?

##### External partners (like payment wallets) access your banking APIs. How would the API Gateway handle different authentication (API keys vs OAuth)?

##### How would you use the API Gateway to hide internal service names/ports from external clients in a banking setup?

##### During Diwali, promotional loan APIs get abused with repeated calls. How can the API Gateway apply per-user rate limiting?

##### You discover a security vulnerability in one microservice. How can the API Gateway block or redirect traffic to that service quickly?

##### In a banking system, some APIs are public (like IFSC code check) and some are private. How would the API Gateway separate them?

##### How can the API Gateway cache frequent responses like branch locator to reduce load on backend services?

##### A compliance team requires all API calls to be encrypted and logged. How does the API Gateway enforce HTTPS and add extra headers?

##### You need to rewrite URLs (e.g., old /v1/transactions to new /v2/transactions). How can the API Gateway do this without changing clients?

##### In a multi-region banking setup, how can the API Gateway route Indian users to Mumbai data center and international users to Singapore?

##### How would you monitor API Gateway metrics (latency, error rate) in a banking production environment?

##### A new KYC microservice is added. How do you register and route new paths through the API Gateway without downtime?

##### How can the API Gateway handle CORS for web banking portal calling APIs from different domains?

##### During a cyberattack (DDoS), how can the API Gateway throttle or block suspicious traffic patterns?

##### In your banking project, how would you use the API Gateway to implement API versioning (v1, v2) smoothly?

##### You're building a payment gateway API. How would you handle rate limiting to prevent DDoS attacks while ensuring legitimate high-volume banking transactions proceed smoothly?

##### A customer's session token expires during a fund transfer. How would the API Gateway handle authentication failures without disrupting the user experience?

##### Multiple banking services (accounts, cards, loans) need to be exposed through a single endpoint. How would you design the API Gateway routing?

##### During peak banking hours (month-end), how would you implement circuit breaking at the gateway level to prevent cascading failures?

##### Regulatory compliance requires logging all financial transactions. How would you implement centralized logging at the API Gateway?

##### A new KYC (Know Your Customer) regulation requires adding a custom header to all requests. How would you implement this at the gateway?

##### Mobile banking app and internet banking portal need different response formats. How would you handle content negotiation at the gateway?

##### How would you implement A/B testing for a new fund transfer feature through the API Gateway?

##### During system maintenance, how would you gracefully redirect users to a maintenance page through the gateway?

##### Suspicious login patterns detected - how would you implement IP blocking at the gateway level?

##### API versioning required for backward compatibility with older mobile apps. How would you handle this?

##### Real-time stock trading service needs lower latency than account statement service. How would you prioritize traffic?

##### How would you implement request/response transformation for legacy banking systems integration?

##### Regulatory audit requires tracking all admin actions. How would you implement specialized routing for admin endpoints?

##### During a security breach, how would you quickly disable specific API endpoints through the gateway?

##### How would you handle CORS policies for banking portals accessed from different domains?

##### Implement API monetization for third-party fintech integrations - how would you track usage at gateway?

##### How would you cache frequently accessed but rarely changed data like branch locations?

##### During database migration, how would you implement canary releases for banking services?

##### How would you aggregate responses from multiple microservices for a customer dashboard?

##### Implement request deduplication for idempotent banking transactions at gateway level.

##### How would you handle file uploads (cheque images, documents) through the gateway?

##### Real-time fraud detection requires request inspection. How would you integrate this at gateway?

##### How would you implement geographic-based routing for compliance with data sovereignty laws?

##### During third-party service outage, how would you serve cached responses for balance inquiries?

============= Srvice Discovery =========

Similarly do for Service Discovery Questions as well.

##### How do you register new microservices dynamically in a banking system?

##### How do you handle service discovery when a payment service crashes?

##### How do you ensure high availability of service registry?

##### How do you handle stale service entries in registry?

##### How do you secure service registry communication?

##### How do you handle service discovery across multiple data centers?

##### How do you manage service discovery for internal vs external APIs?

##### How do you handle service discovery in Kubernetes for banking apps?

##### How do you manage service discovery when scaling up loan services?

##### How do you handle service discovery failures during peak hours?

##### How do you integrate service discovery with API Gateway?

##### How do you handle service discovery for legacy systems?

##### How do you manage service discovery for fraud detection microservices?

##### How do you handle service discovery for batch jobs?

##### How do you manage service discovery for reporting services?

##### How do you handle service discovery in hybrid cloud?

##### How do you manage service discovery for customer notification services?

##### How do you handle service discovery for real-time payment services?

##### How do you secure service discovery with TLS?

##### How do you handle service discovery for multi-tenant banking apps?

##### How do you manage service discovery for sandbox vs production?

##### How do you handle service discovery for third-party fintech integrations?

##### How do you manage service discovery for microservices with different versions?

##### How do you handle service discovery for disaster recovery setup?

##### How do you monitor service discovery health?

##### In your banking system, the account service IP changes every time Kubernetes scales pods. How does service discovery (Eureka/Consul) solve this?

##### A developer hardcodes the transaction service URL in code. The service moves to a new pod. What breaks, and how does Eureka fix it?

##### You have 5 instances of payment service running. How does service discovery + Ribbon ensure load balancing across them?

##### During deployment, a new loan service version starts, but old clients still call the old one. How does Eureka help with zero-downtime?

##### In a banking microservices project, how do you ensure a service registers itself with Eureka on startup?

##### One payment instance fails health check. How does Eureka remove it so no new requests go there?

##### You want to see all registered services in a dashboard. How does Eureka UI help in a banking environment?

##### How does Eureka's self-preservation mode prevent false positives during network glitches in a bank data center?

##### In production, you have separate Eureka servers for dev, test, and prod. How do you configure banking services to point to the right one?

##### A fraud detection service needs to discover notification service dynamically. How would you use @EnableDiscoveryClient?

##### How does service discovery help when you scale payment service from 3 to 10 pods during month-end salary credits?

##### In a banking setup, services in different namespaces need discovery. How can Eureka or Consul handle multi-tenancy?

##### What happens if Eureka server itself goes down? How can you make it highly available for critical banking apps?

##### How do you configure heartbeat interval in Eureka so banking services detect failures faster?

##### A new customer service is deployed. How does it automatically register with Eureka without manual config?

##### In your project, how do you use service discovery to call services by logical name (e.g., "ACCOUNT-SERVICE") instead of IP?

##### During peak trading hours, stock service instances increase. How does discovery ensure smooth load distribution?

##### How can you use Consul instead of Eureka for service discovery in a banking hybrid cloud setup?

##### What is the role of @LoadBalanced RestTemplate with Eureka in banking inter-service calls?

##### How do you handle service discovery when migrating from monolith to microservices in a bank?

##### In a disaster recovery scenario, how does Eureka help failover to secondary data center services?

##### How do you secure Eureka dashboard access in a production banking environment?

##### A service registers but health check fails repeatedly. How does Eureka mark it DOWN?

##### How does service discovery integrate with Kubernetes service discovery in modern banking apps?

##### In your banking project, how would you monitor Eureka registration metrics using Prometheus?

##### During a network partition in your banking data center, how would service discovery handle instance registration/unregistration?

##### A new loan processing service instance starts but takes 2 minutes to warm up its cache. How would service discovery prevent traffic routing during this period?

##### How would you implement blue-green deployment for credit card service using service discovery?

##### Regulatory compliance requires certain banking services to run in specific geographic zones. How would service discovery handle this?

##### During peak trading hours, how would service discovery help in auto-scaling stock trading services?

##### A buggy version of fund transfer service is deployed. How would you quickly isolate it using service discovery?

##### How would service discovery handle multi-datacenter deployment for disaster recovery in banking?

##### Different environments (dev, staging, production) need isolation. How would you configure service discovery?

##### Legacy mainframe banking system needs to be integrated. How would you register it in service discovery?

##### How would you implement health checks for banking services with dependencies on external systems?

##### During planned maintenance, how would you gracefully drain connections from a service instance?

##### How would service discovery handle services with different SLAs (e.g., real-time vs batch processing)?

##### Implement weighted routing - 90% traffic to stable version, 10% to new version of payment service.

##### How would you discover services across different security zones (DMZ, internal network)?

##### During DNS failure, how would service discovery ensure continued operation?

##### How would you implement metadata tagging for services (region, version, capability)?

##### Banking merger requires integrating two different service discovery systems. How would you approach this?

##### How would you handle service discovery during rolling upgrades without downtime?

##### Implement circuit breaker-aware service discovery - don't route to unhealthy instances.

##### How would you monitor and alert on service discovery registry health?

##### Regulatory requirement: All banking services must authenticate before registration. How would you implement this?

##### How would you implement service mesh integration with service discovery?

##### During catastrophic failure, how would service discovery help in failover to DR site?

##### How would you handle version compatibility between service discovery client and server during upgrades?

##### Implement cost-based routing - prefer services in cheaper availability zones for non-critical operations.

===================== Circuit Breaker ===========

##### How do you prevent cascading failures when loan service is down?

##### How do you configure timeout for payment APIs?

##### How do you handle fallback when credit score service fails?

##### How do you configure retry attempts in Resilience4J?

##### How do you manage bulkhead isolation for fraud detection service?

##### How do you configure thread pool size in Hystrix?

##### How do you handle circuit breaker state transitions?

##### How do you configure error thresholds for ATM withdrawal APIs?

##### How do you handle fallback for customer notification service?

##### How do you configure resilience for external credit bureau APIs?

##### How do you manage resilience for high-value transactions?

##### How do you configure resilience for batch loan processing?

##### How do you handle resilience for reporting microservices?

##### How do you configure resilience for customer onboarding APIs?

##### How do you manage resilience for third-party payment gateways?

##### How do you configure resilience for real-time fraud detection?

##### How do you handle resilience for mobile banking APIs?

##### How do you configure resilience for customer profile service?

##### How do you manage resilience for multi-region services?

##### How do you configure resilience for sandbox vs production?

##### How do you handle resilience for disaster recovery setup?

##### How do you configure resilience for legacy system integration?

##### How do you manage resilience for hybrid cloud setup?

##### How do you configure resilience for high concurrency APIs?

##### How do you monitor circuit breaker metrics?

##### In your banking app, the external credit bureau service is slow or down during loan approval. How does a circuit breaker prevent the whole system from hanging?

##### A transaction service calls fraud check service, which fails 80% of the time. How would you configure Resilience4j circuit breaker to open after 5 failures?

##### Using Hystrix, how would you set slidingWindowSize and failureRateThreshold for a payment gateway call in banking?

##### The circuit is OPEN, and users see errors on fund transfer. What fallback method would you implement (e.g., "try later")?

##### In Resilience4j, how does waitDurationInOpenState help give the credit score service time to recover?

##### You want to allow 3 test requests when half-open in Resilience4j. How do you configure permittedNumberOfCallsInHalfOpenState?

##### In a banking project, how do you monitor circuit breaker states (closed/open/half-open) using Actuator?

##### Hystrix is deprecated. Why switch to Resilience4j in new banking microservices?

##### How would you configure retry + circuit breaker together for retrying failed KYC verification calls?

##### During high load, too many threads wait for a slow external bank API. How does bulkhead in Resilience4j prevent this?

##### In Resilience4j, what is failureRateThreshold, and how would you set it to 50% for transaction service calls?

##### A loan service uses fallback to approve low-risk loans offline when credit bureau is down. Is this good practice?

##### How do you log circuit breaker events (open, close) for audit in banking compliance?

##### Configure Resilience4j to ignore certain exceptions (like BadRequest) from not counting as failures.

##### In Hystrix, what is commandKey and threadPoolKey, and why separate them for different banking operations?

##### How does slowCallRateThreshold in Resilience4j help detect slow but not failing services?

##### In production, you see frequent circuit openings. How do you tune minimumNumberOfCalls?

##### For a critical fund transfer, you want no fallback—just fail fast. How to disable fallback in circuit breaker?

##### How do you use Resilience4j annotations (@CircuitBreaker) in Spring Boot for banking services?

##### In a chained call (account → transaction → notification), how does circuit breaker prevent cascading failure?

##### What is the difference between count-based and time-based sliding window in Resilience4j?

##### How would you integrate circuit breaker metrics with Grafana in a banking dashboard?

##### During Diwali offers, high failures in promo service. How does circuit breaker protect other services?

##### In Resilience4j, how does registerHealthIndicator help expose breaker status in /actuator/health?

##### You need exponential backoff retry before circuit opens. How to combine retry and circuit breaker configs?

##### Third-party credit scoring service starts responding slowly during peak loan application hours. How would you configure circuit breaker thresholds?

##### Fund transfer service fails intermittently. How would you set up a circuit breaker to prevent cascading failures to dependent services?

##### During market volatility, stock trading service becomes overloaded. How would you implement bulkheading with circuit breakers?

##### Regulatory reporting service fails. How would you implement fallback mechanism to queue reports for later processing?

##### How would you configure circuit breaker for idempotent vs non-idempotent banking operations differently?

##### Real-time fraud detection service timeout - what fallback would you implement to allow transactions to proceed?

##### How would you monitor circuit breaker state changes and alert banking operations team?

##### During network partition, how would circuit breaker prevent endless retries for account balance service?

##### Implement different circuit breaker configurations for retail vs corporate banking services.

##### How would you test circuit breaker behavior in pre-production environment?

##### Notification service for OTP fails. How would circuit breaker handle this while maintaining security?

##### Database connection pool exhausted. How would circuit breaker help in recovery?

##### Implement gradual recovery - after circuit opens, allow limited requests to test if service recovered.

##### How would you configure circuit breaker for batch processing jobs vs real-time transactions?

##### External audit service has SLA of 99.9%. How would you set circuit breaker thresholds accordingly?

##### During DDoS attack, how would circuit breaker protect internal banking services?

##### How would you implement circuit breaker for asynchronous banking operations?

##### Different failure types (timeout vs exception) - how would circuit breaker handle them differently?

##### Implement circuit breaker with retry logic for temporary network glitches.

##### How would you share circuit breaker state across multiple service instances?

##### During database failover, how would circuit breaker handle temporary unavailability?

##### Implement metrics collection for circuit breaker to analyze failure patterns.

##### How would you configure circuit breaker for legacy SOAP banking services?

##### Rate limiting vs circuit breaking - when to use which for banking APIs?

##### Implement circuit breaker with semaphore isolation for CPU-intensive banking calculations.

=========== Tracing ==========

##### How do you trace a failed fund transfer across microservices?

##### How do you trace customer login requests across services?

##### How do you trace loan approval workflow?

##### How do you trace ATM withdrawal transactions?

##### How do you trace fraud detection alerts?

##### How do you trace customer notification delivery?

##### How do you trace batch job execution?

##### How do you trace reporting service queries?

##### How do you trace external API calls (credit bureau)?

##### How do you trace mobile banking requests?

##### How do you trace customer profile updates?

##### How do you trace sandbox vs production requests?

##### How do you trace multi-region transactions?

##### How do you trace hybrid cloud requests?

##### How do you trace disaster recovery failover?

##### How do you trace legacy system integration?

##### How do you trace high-value transactions?

##### How do you trace customer onboarding workflow?

##### How do you trace real-time fraud detection alerts?

##### How do you trace API Gateway requests?

##### How do you trace service discovery requests?

##### How do you trace circuit breaker fallbacks?

##### How do you trace retries in Resilience4J?

##### How do you trace audit logging requests?

##### How do you trace customer session management?

##### A customer complains that fund transfer took 15 seconds. How can Sleuth + Zipkin help find which service caused the delay?

##### In banking logs, you see traceId but can't connect logs from account and transaction services. How does Sleuth propagate traceId?

##### You need to search all spans for a failed loan application. How does Zipkin UI help visualize the trace?

##### How do you add custom tags (e.g., customerId, accountType) to Zipkin spans in banking apps?

##### In production, Zipkin server is overloaded. How would you sample only 10% of traces to reduce load?

##### A transfer fails in notification service, but you can't find the root cause. How does Zipkin show the full call chain?

##### How does Spring Cloud Sleuth automatically add traceId/spanId to MDC logs for ELK in banking?

##### In a microservices banking project, how do you configure Zipkin base URL in application.yml?

##### You want to trace async Kafka messages between services. How does Sleuth propagate context over messaging?

##### How can Zipkin help identify latency in external RBI API calls during compliance checks?

##### A fraud alert is delayed. Using Zipkin, how do you measure time spent in each service?

##### How do you secure Zipkin UI access in a banking environment (basic auth or SSO)?

##### In Sleuth, what is baggage, and how can you use it to pass branchCode across services?

##### How do you export traces to Jaeger instead of Zipkin in modern banking setups?

##### During month-end, high latency in reconciliation service. How does Zipkin dependency graph help?

##### You need to add custom span for database query time. How to create manual spans with Sleuth?

##### How does Sleuth integrate with Feign/WebClient to propagate trace headers?

##### In Zipkin, how do you filter traces by service name or HTTP status code for debugging?

##### A compliance audit requires trace logs for every high-value transaction. How to force 100% sampling?

##### How can Zipkin help prove SLA compliance (e.g., 99% requests < 2s) in banking?

##### In multi-team banking project, how does traceId help correlate issues across teams?

##### How do you handle trace propagation in scheduled batch jobs (e.g., interest calculation)?

##### What is brave in Sleuth, and why is it used for Zipkin integration?

##### During production incident, how quickly can Zipkin help pinpoint the slow service?

##### How do you configure Sleuth to ignore tracing for health check endpoints to reduce noise?

##### A fund transfer takes 10 seconds. How would you trace the request across 5 microservices to identify bottleneck?

##### Customer reports missing transaction. How would you use tracing to investigate across banking services?

##### During audit, you need to trace a specific high-value transaction across all systems. How would you do this?

##### How would you correlate logs from multiple microservices for a single banking transaction?

##### Implement sampling strategy - trace only 10% of requests during normal operations, 100% during incidents.

##### How would you add custom business data (customer ID, transaction type) to tracing spans?

##### Regulatory requirement: Trace data must be retained for 7 years. How would you implement this?

##### During performance testing, how would tracing help identify slow database queries?

##### How would you trace asynchronous banking operations (event-driven architecture)?

##### Implement tracing for batch processing jobs that process millions of transactions overnight.

##### How would you handle trace context propagation across different protocols (HTTP, messaging, gRPC)?

##### Security requirement: Mask sensitive data (account numbers, amounts) in traces.

##### How would you integrate tracing with existing banking monitoring systems?

##### Implement anomaly detection based on trace durations for fraud detection.

##### How would you trace external API calls to payment gateways?

##### During incident investigation, how would you find all traces for a specific failed transaction type?

##### Implement cost-effective tracing storage strategy for high-volume banking transactions.

##### How would you add business metrics (success/failure counts) to tracing data?

##### Distributed deadlock detection using tracing - how would you implement?

##### How would you trace database transaction boundaries across microservices?

##### Implement trace-based alerting for slow banking operations.

##### How would you visualize end-to-end transaction flow for banking customer journey?

##### During microservices migration, how would tracing help compare performance?

##### Implement correlation between frontend (mobile app) and backend traces.

##### How would you use tracing data for capacity planning of banking services?

================= Observability ===========

##### How do you monitor payment service latency?

##### How do you monitor loan service availability?

##### How do you monitor ATM withdrawal success rate?

##### How do you monitor fraud detection service errors?

##### How do you monitor customer notification delivery rate?

##### How do you monitor batch job execution time?

##### How do you monitor reporting service queries?

##### How do you monitor external API call latency?

##### How do you monitor mobile banking API performance?

##### How do you monitor customer profile service health?

##### How do you monitor sandbox vs production metrics?

##### How do you monitor multi-region service latency?

##### How do you monitor hybrid cloud services?

##### How do you monitor disaster recovery failover?

##### How do you monitor legacy system integration?

##### How do you monitor high-value transaction success rate?

##### How do you monitor customer onboarding workflow?

##### How do you monitor real-time fraud detection alerts?

##### How do you monitor API Gateway latency?

##### How do you monitor service discovery health?

##### How do you monitor circuit breaker metrics?

##### How do you monitor retries in Resilience4J?

##### How do you monitor audit logging service?

##### How do you monitor customer session management?

##### How do you visualize metrics in Grafana dashboards?

##### In your banking app, you want to monitor JVM memory usage. How does Spring Boot Actuator + Prometheus expose this?

##### How do you set up Grafana dashboard to show transaction success rate per minute?

##### A service has high CPU during peak hours. How can Prometheus alert if CPU > 80%?

##### How do you secure /actuator/prometheus endpoint in production banking app?

##### You need to monitor HTTP request latency for /api/transfers. How does Micrometer + Actuator help?

##### In Grafana, how do you create a panel showing circuit breaker open count from Resilience4j?

##### How do you configure Prometheus scrape interval for banking services (e.g., 15s)?

##### During audit, you need historical data of error rates. How does Prometheus store time-series data?

##### How do you expose custom metrics (e.g., number of fraud alerts) using @Timed or MeterRegistry?

##### In a banking cluster, how does service discovery (Prometheus + Eureka) find targets automatically?

##### How can Grafana alert the on-call team via email/Slack if loan approval latency > 5s?

##### You want to monitor database connection pool usage. Which Actuator endpoint helps?

##### How do you use Grafana to compare response times before and after a deployment?

##### In production, how do you disable sensitive Actuator endpoints like /env?

##### How does Prometheus federation help monitor multiple banking environments (dev, uat, prod)?

##### You need a dashboard for KYC service throughput. What Prometheus query would you use?

##### How do you integrate Spring Boot Actuator health with liveness/readiness probes in Kubernetes?

##### In Grafana, how do you set up heatmap for transaction response time distribution?

##### How can you monitor thread pool usage in WebClient or ThreadPoolTaskExecutor?

##### During incident, how does Prometheus + Grafana help find correlation between high error rate and memory?

##### How do you add tags/labels to metrics (e.g., by region or customer segment)?

##### You want to track number of active sessions in banking portal. How to create custom gauge?

##### How does Actuator /health/group show aggregated health in microservices?

##### In Grafana, how do you create SLO/SLI dashboards for banking APIs (e.g., 99.9% availability)?

##### How do you backup Prometheus data or set retention for 1 year for banking compliance?

##### Banking dashboard needs to show real-time transaction volume, success rate, and average response time. How would you set this up?

##### Regulatory requirement: Monitor all PII data access. How would you implement custom metrics for this?

##### During month-end processing, memory usage spikes. How would you set up alerts for this pattern?

##### How would you monitor database connection pool usage across all banking services?

##### Implement business-level metrics: Number of loan applications processed per hour, approval rate.

##### How would you expose custom health checks for external dependencies (payment gateways, credit bureaus)?

##### Security team needs to monitor failed login attempts across all services. How would you implement this?

##### During rolling deployment, how would you monitor for increased error rates?

##### Implement anomaly detection for transaction amounts to detect potential fraud.

##### How would you monitor message queue backlogs for asynchronous banking operations?

##### Set up SLA monitoring: 99.9% availability for core banking services.

##### How would you implement custom metrics for cache hit rates in banking services?

##### During database migration, how would you compare performance metrics before/after?

##### Implement capacity planning dashboard showing resource usage trends.

##### How would you secure metrics endpoints from unauthorized access?

##### Business needs dashboard showing customer acquisition metrics by region.

##### Implement predictive alerting for disk space based on growth trends.

##### How would you monitor microservices communication latency?

##### During third-party service degradation, how would you detect and alert?

##### Implement custom actuator endpoint for business operations (force cache refresh, toggle features).

##### How would you aggregate metrics from multiple banking service instances?

##### Set up dashboard for compliance reporting (data access logs, audit trails).

##### During DDoS attack, how would metrics help identify attack pattern?

##### Implement tracing integration with metrics for correlation.

##### How would you monitor CI/CD pipeline metrics for banking services deployment?

============= InterService Communication ======

##### In banking, account service calls customer service synchronously. Why prefer WebClient over RestTemplate?

##### How do you handle timeouts in RestTemplate for slow external bank API calls?

##### You need non-blocking calls during high-load salary credit processing. How does WebClient help?

##### How do you add headers (e.g., Authorization) globally in WebClient for banking APIs?

##### In RestTemplate, how do you configure connection pool and max connections?

##### A service uses RestTemplate but gets connection refused during scale-up. How to fix?

##### How do you handle error responses (4xx, 5xx) uniformly in WebClient?

##### In reactive banking app, how does WebClient integrate with Mono/Flux?

##### How do you propagate traceId/spanId automatically in WebClient calls?

##### You need retry logic for idempotent GET calls. How to implement in RestTemplate?

##### How does WebClient support OAuth2 client credentials flow for secure inter-service calls?

##### In legacy code, RestTemplate is used. How to migrate to WebClient step-by-step?

##### How do you log request/response bodies in WebClient for audit in banking?

##### During network glitch, RestTemplate hangs. How does timeout config help?

##### How do you use exchangeToMono in WebClient for custom error handling?

##### In banking, how do you call external payment gateway with SSL and custom truststore?

##### How does WebClient.Builder help build reusable clients with base URL?

##### You need parallel calls to multiple services (account + balance). How does WebClient + Flux help?

##### How do you set read/write timeouts differently for different endpoints?

##### In RestTemplate, how do you use @LoadBalanced for service discovery?

##### How does WebClient handle large file uploads/downloads in document service?

##### During prod issue, how do you enable detailed logging in WebClient?

##### How do you mock WebClient in unit tests for banking services?

##### In high-throughput transaction service, why is WebClient better for throughput?

##### How do you combine WebClient with circuit breaker (Resilience4j) for resilience?

##### Fund transfer requires calling account service, transaction service, and notification service. How would you design the communication?

##### During peak hours, how would you handle timeouts between banking services?

##### Implement retry logic for temporary failures in payment gateway communication.

##### How would you handle partial failures when calling multiple services for customer dashboard?

##### Banking services need to communicate synchronously vs asynchronously - when to use which?

##### Implement request/response logging for audit purposes without logging sensitive data.

##### How would you handle version compatibility between services during rolling upgrades?

##### Need to call legacy SOAP banking service from modern REST microservice.

##### Implement connection pooling for high-volume inter-service communication.

##### How would you handle SSL/TLS between banking services in different security zones?

##### Circuit breaker implementation for inter-service calls - where to place it?

##### How would you implement request tracing across service boundaries?

##### Need to stream large account statement files between services.

##### Implement authentication between internal banking services.

##### How would you handle different data formats (JSON, XML, Protobuf) between services?

##### During service degradation, how would you implement graceful degradation?

##### Need to batch multiple requests to improve performance.

##### How would you implement request deduplication for idempotent operations?

##### Implement request prioritization for critical vs non-critical banking operations.

##### How would you monitor and alert on inter-service communication failures?

##### Need to call external banking APIs (SWIFT, payment networks).

##### Implement caching layer for frequently accessed data between services.

##### How would you handle network latency between services in different data centers?

##### Implement request signing for non-repudiation in banking transactions.

##### How would you test inter-service communication in isolation?

========= Central Config ========

##### How do you manage payment service configs centrally?

##### How do you manage loan service configs centrally?

##### How do you manage ATM withdrawal configs centrally?

##### How do you manage fraud detection configs centrally?

##### How do you manage notification service configs centrally?

##### How do you manage batch job configs centrally?

##### How do you manage reporting service configs centrally?

##### How do you manage external API configs centrally?

##### How do you manage mobile banking configs centrally?

##### How do you manage customer profile configs centrally?

##### How do you manage sandbox vs production configs centrally?

##### How do you manage multi-region configs centrally?

##### How do you manage hybrid cloud configs centrally?

##### How do you manage disaster recovery configs centrally?

##### How do you manage legacy system configs centrally?

##### How do you manage high-value transaction configs centrally?

##### How do you manage customer onboarding configs centrally?

##### How do you manage real-time fraud detection configs centrally?

##### How do you manage API Gateway configs centrally?

##### How do you manage service discovery configs centrally?

##### How do you manage circuit breaker configs centrally?

##### How do you manage tracing configs centrally?

##### How do you manage monitoring configs centrally?

##### How do you manage audit logging configs centrally?

##### How do you manage customer session configs centrally?

##### In banking, you need to change DB password without restarting all services. How does Spring Cloud Config Server help?

##### How do you set up Git-backed config server for banking microservices properties?

##### A security patch requires new encryption key for all services. How does config server refresh it?

##### How do you use @RefreshScope to reload config changes in running banking services?

##### In production, how do you secure config server with basic auth or OAuth?

##### You have different configs for dev, prod. How does config server use labels or profiles?

##### How do you monitor config server health and property sources in banking?

##### During outage, config server is down. How can services use local fallback configs?

##### How do you encrypt sensitive data (e.g., API keys) in config server using {cipher}?

##### In a banking project, how do you trigger refresh for all services after config change?

##### How does config client fetch properties from config server on startup?

##### You need to change log level dynamically. How does /actuator/refresh + config server work?

##### How do you use native profile in config server for local testing?

##### In multi-repo setup, how does config server aggregate configs from multiple Git repos?

##### How do you handle config versioning and rollback in banking compliance?

##### During blue-green deployment, how does config server ensure new version gets latest props?

##### How do you use Spring Cloud Bus to broadcast refresh events via Kafka?

##### In Kubernetes, how do config server integrate with service discovery?

##### You need different Kafka topics per env. How does config server manage this centrally?

##### How do you audit who changed configs in Git for banking governance?

##### How does config server handle composite environments (e.g., prod + region-us)?

##### In high-security banking, how do you use Vault backend instead of Git?

##### How do you test config client failover when config server is unreachable?

##### During peak load, how does config client caching reduce load on config server?

##### How do you migrate from application.yml to centralized config without breaking services?

##### Need to change transaction timeout across 50 banking services. How would you do this without redeployment?

##### Regulatory change requires updating interest calculation logic. How would you push this to all affected services?

##### During security incident, need to disable certain features across all banking services quickly.

##### How would you manage different configurations for retail vs corporate banking services?

##### Implement audit trail for all configuration changes in banking system.

##### How would you handle configuration encryption for sensitive data (database passwords)?

##### During database maintenance, need to switch to read-only mode across services.

##### How would you implement configuration versioning and rollback?

##### Different configurations per geographic region for compliance.

##### How would you validate configuration changes before applying to production?

##### Implement configuration change notifications to relevant teams.

##### How would you handle configuration for services with different deployment frequencies?

##### During incident, need to increase logging verbosity across all services.

##### How would you manage feature toggles for gradual feature rollout?

##### Implement configuration compliance checking against security policies.

##### How would you handle configuration for legacy banking systems?

##### Database connection string changes - how to update across all services?

##### How would you implement configuration hot reload without service restart?

##### Different configurations for different customer segments (premium vs regular).

##### How would you handle configuration conflicts between centralized and local settings?

##### Implement configuration dependency management (Service A config depends on Service B config).

##### How would you secure configuration server access?

##### During network partition, how would services handle configuration server unavailability?

##### Implement configuration change approval workflow for production changes.

##### How would you monitor configuration usage and drift across services?

====== Env and Pro

##### How do you manage dev vs prod profiles in banking apps?

##### How do you manage sandbox vs production profiles?

##### How do you manage multi-region profiles?

##### How do you manage hybrid cloud profiles?

##### How do you manage disaster recovery profiles?

##### How do you manage legacy system integration profiles?

##### How do you manage high-value transaction profiles?

##### How do you manage customer onboarding profiles?

##### How do you manage fraud detection profiles?

##### How do you manage reporting service profiles?

##### How do you manage batch job profiles?

##### How do you manage notification service profiles?

##### How do you manage API Gateway profiles?

##### How do you manage service discovery profiles?

##### How do you manage circuit breaker profiles?

##### How do you manage tracing profiles?

##### How do you manage monitoring profiles?

##### How do you manage audit logging profiles?

##### How do you manage customer session profiles?

##### How do you manage external API integration profiles?

##### How do you manage test vs production profiles?

##### How do you manage staging vs production profiles?

##### How do you manage performance testing profiles?

##### How do you manage security testing profiles?

##### How do you manage compliance testing profiles?

##### In your banking project, dev uses local MySQL, prod uses Oracle. How do Spring profiles switch datasource?

##### How do you activate "prod" profile when deploying JAR to production server?

##### You have different Kafka bootstrap servers for dev, test, uat. How do profiles handle this?

##### How do you use application-dev.yml vs application-prod.yml for different logging levels?

##### In banking, prod should never expose /actuator/env. How do profiles disable it?

##### How do you run tests with "test" profile using @ActiveProfiles?

##### You need different JWT secret keys per environment. How do profiles manage this securely?

##### How does spring.profiles.active work when set via environment variable in Docker?

##### In a shared config repo, how do profiles override properties for uat vs prod?

##### How do you have default profile + environment-specific overrides in Spring Boot?

##### During CI/CD, how do you activate profile based on branch (dev branch → dev profile)?

##### You need different rate limiting thresholds per env. How do profiles configure Resilience4j?

##### How do you use @Profile("!prod") to disable certain beans in non-prod?

##### In banking, compliance requires no debug logs in prod. How do profiles set log levels?

##### How do you combine multiple profiles (e.g., "prod,kafka-secure")?

##### You have different Eureka URLs per env. How does bootstrap.yml + profiles handle it?

##### How do you test profile-specific beans using @SpringBootTest?

##### In Kubernetes, how do ConfigMap set spring.profiles.active for banking pods?

##### How do profiles help manage different security configs (e.g., basic auth in dev, OAuth in prod)?

##### You need different cache TTLs per env. How to configure via profiles?

##### How do you log active profiles at startup for debugging in banking deployments?

##### In a monolith-to-microservices migration, how do profiles help gradual rollout?

##### How do you use @ConditionalOnProperty with profiles for env-specific features?

##### During hotfix in prod, how do you temporarily activate "debug" profile without redeploy?

##### How do profiles integrate with Spring Cloud Config for env-specific external configs?

##### Banking app needs different configurations for dev, testing, UAT, and production. How would you manage this?

##### Regulatory requirement: Production data must never appear in non-prod environments. How would you enforce this?

##### How would you handle environment-specific API keys for payment gateways?

##### Database configuration differs across environments. How would you manage this securely?

##### Feature flags for A/B testing new banking features across environments.

##### How would you ensure consistent environment setup across developer machines?

##### Disaster recovery environment needs identical configuration to production. How would you manage this?

##### Different logging levels per environment (DEBUG in dev, ERROR in prod).

##### How would you manage environment variables for cloud deployment?

##### Integration with different external systems per environment (mock services in dev).

##### Performance tuning parameters differ across environments. How would you manage?

##### How would you prevent accidental deployment to wrong environment?

##### Blue-green deployment requires identical environment configuration. How would you ensure this?

##### Manage SSL certificates differently per environment.

##### How would you handle environment-specific business rules (e.g., lower transaction limits in non-prod)?

##### Database migration scripts need to run differently per environment.

##### How would you manage feature rollouts across environments?

##### Environment-specific monitoring and alerting configurations.

##### How would you test environment configuration as part of CI/CD pipeline?

##### Secrets management per environment (passwords, API keys).

##### How would you handle different timezone configurations per environment?

##### Cache configurations differ per environment (smaller cache in dev).

##### How would you manage environment-specific load balancer configurations?

##### Different security policies per environment (CORS, authentication).

##### How would you document environment configurations and dependencies?

==== Idempo======

##### A user clicks "transfer" twice quickly. How does idempotency key prevent double debit?

##### In banking, how do you generate and send idempotency-key in request header?

##### How does server store idempotency key + response for future same requests?

##### You receive same payment request again. How to return same 200 OK without processing?

##### How long do you store idempotency records (e.g., 24 hours) in banking?

##### In distributed system, how do you use Redis to store idempotency state?

##### How do you handle idempotency for POST /transfers but not for GET?

##### A network retry sends same request. How does idempotency ensure no duplicate?

##### How do you return 409 if idempotency key is reused with different payload?

##### In banking reconciliation, why is idempotency critical for payment APIs?

##### If idempotency record expires, what happens on retry?

##### How do you generate unique idempotency key in client (UUID + timestamp)?

##### In async processing, how does idempotency work with eventual consistency?

##### How do you clean up old idempotency keys to save storage?

##### In payment gateway callback, how to make webhook idempotent?

##### How does idempotency help during retry after timeout in banking?

##### You get duplicate requests with same key but different amounts. How to reject?

##### In microservices, which service should check idempotency (Gateway or business)?

##### How do you log idempotent requests for audit trail?

##### In high-volume salary credit, how does idempotency prevent over-credits?

##### How do you test idempotency in postman or automated tests?

##### In refund API, why must it be idempotent?

##### How does idempotency integrate with distributed tracing?

##### In banking compliance, how does storing idempotency keys help prove no duplicates?

##### Customer clicks "Transfer" button multiple times due to slow response. How would you prevent duplicate transactions?

##### Network timeout causes client to retry fund transfer. How would you ensure idempotency?

##### Implement idempotency for account balance inquiry (read operation).

##### Batch processing job fails halfway - how to ensure idempotent retry?

##### How would you generate and manage idempotency keys for banking transactions?

##### Idempotency for non-idempotent banking operations (account closure, status changes).

##### How would you handle idempotency across distributed microservices?

##### Implement idempotency with eventual consistency (asynchronous processing).

##### How would you clean up old idempotency keys (retention policy)?

##### Idempotency for payment gateway callbacks (webhooks).

##### How would you handle concurrent requests with same idempotency key?

##### Implement idempotency for reporting and statement generation.

##### How would you test idempotency in banking APIs?

##### Idempotency for bulk operations (multiple transactions in one request).

##### How would you handle idempotency key collisions?

##### Implement idempotency with different outcomes (different error responses allowed).

##### How would you propagate idempotency across service boundaries?

##### Idempotency for compensating transactions (rollbacks).

##### How would you monitor idempotency key usage and effectiveness?

##### Implement client-generated vs server-generated idempotency keys.

##### How would you handle idempotency in event-driven architecture?

##### Idempotency for file uploads (cheque images, documents).

##### How would you implement idempotency without persistent storage?

##### Regulatory requirement: All duplicate attempts must be logged for audit.

##### How would you educate banking app developers on idempotency importance?

==========validations========

##### In banking mobile app, user enters invalid account number. How does client-side validation catch it?

##### Why do you still need server-side validation even if client-side exists?

##### How do you use @Valid + @NotBlank in Spring for server-side input validation?

##### A user bypasses JS validation and sends bad data. How does server reject it with 400?

##### In banking form (loan application), how do you validate PAN format client-side?

##### How do you return meaningful error messages (field-wise) from server?

##### Using Bean Validation (JSR-380), how do you validate custom constraints (e.g., age > 18)?

##### In UI, how does Angular/React show server validation errors next to fields?

##### How do you handle validation for nested objects (e.g., address in customer)?

##### In banking API, how do you prevent negative amount in fund transfer?

##### How does @Validated at controller level differ from method level?

##### You get ConstraintViolationException. How to handle globally with @ControllerAdvice?

##### In client-side, how do you validate IFSC code format before API call?

##### How do you validate file uploads (e.g., KYC doc size/type) on both sides?

##### In international transfers, how do you validate SWIFT code server-side?

##### How do you use custom validator annotation for complex business rules?

##### In UI, how does debounce help avoid too many client validations?

##### How do you return internationalized error messages from server?

##### In banking, how do you validate OTP length and format both sides?

##### How does server-side validation protect against malicious payloads?

##### In form, how do you show red border on invalid fields client-side?

##### How do you combine Jakarta Validation with custom service-layer checks?

##### In API docs (Swagger), how do you document validation rules?

##### How do you handle validation for PATCH requests (partial updates)?

##### In banking compliance, how do you log invalid attempts for security?

##### Loan application form - what validations would you perform on client vs server side?

##### Fund transfer with amount exceeding daily limit - where to validate?

##### How would you validate international bank account numbers (IBAN) format?

##### Customer profile update - validate email format, phone number, address.

##### Real-time validation for available balance during transaction.

##### How would you validate file uploads (cheque images, documents)?

##### Batch processing of transactions - validate data integrity.

##### How would you handle validation errors from multiple microservices?

##### Implement business rule validation (minimum balance, overdraft limits).

##### How would you validate against regulatory rules (KYC, AML)?

##### Transaction date validation (future dating, back dating rules).

##### How would you validate currency conversions and exchange rates?

##### Implement validation for joint account transactions (multiple signatures required).

##### How would you validate investment order amounts against market rules?

##### Customer age validation for different banking products.

##### How would you validate standing instruction setup (start date, end date, frequency)?

##### Implement validation for tax identification numbers across different countries.

##### How would you validate beneficiary account details before adding to payee list?

##### Credit card application - validate income, employment details.

##### How would you validate against duplicate transactions?

##### Implement real-time validation with external systems (credit bureau, blacklists).

##### How would you validate business rules that change frequently (interest rates, fees)?

##### Bulk transactions upload - validate format and data quality.

##### How would you handle validation for offline transactions that sync later?

##### Implement validation error messages that are user-friendly but audit-compliant

========== Roll Backs and Compen=====

##### In banking, order service debits account but payment fails. How does saga compensation rollback?

##### Using Choreography saga, how does each service publish compensating event?

##### In Orchestration saga, central orchestrator triggers rollback on failure. How in banking transfer?

##### A fund transfer debits A, credits B, but notification fails. Do you rollback or compensate?

##### How do you implement compensating transaction for failed inter-service calls?

##### In distributed transaction, why avoid 2PC in microservices and use saga?

##### After loan approval, KYC fails. How does compensation reject the loan?

##### How do you make services idempotent to handle retry during compensation?

##### In banking, how does eventual consistency work with compensation?

##### You use Axon or Eventuate for saga. How does it handle rollback?

##### A multi-step process (debit → fraud check → credit) fails at step 3. How to reverse step 1 & 2?

##### How do you log compensation events for audit in banking?

##### In saga, how do you handle timeout and trigger compensation?

##### During high load, compensation fails. How to make it retryable?

##### How does choreography differ from orchestration in compensation handling?

##### In account-to-account transfer, how to compensate credit if debit succeeds but credit network fails?

##### How do you test saga rollback scenarios in banking?

##### In refund flow, payment succeeded but inventory revert fails. How to compensate?

##### How does outbox pattern help reliable compensation publishing?

##### In banking core, how do you ensure compensation is atomic per service?

##### A foreign remittance fails at last step. How does compensation reverse all steps?

##### How do you monitor saga status and pending compensations?

##### In case of partial failure, how do you decide forward or backward recovery?

##### How does compensation handle business rules (e.g., fees reversal)?

##### In long-running sagas (e.g., home loan approval), how do you handle compensation after days?

##### Fund transfer fails after deducting from source account. How would you implement compensation?

##### Multi-step loan approval process fails at final step. How would you rollback previous steps?

##### Batch processing of overnight transactions fails partially. How would you handle compensation?

##### How would you implement Saga pattern for distributed banking transactions?

##### Database update succeeds but notification fails. How would you handle this inconsistency?

##### Implement compensation for external API failures (payment gateway, credit bureau).

##### How would you handle timeout during distributed transaction?

##### Long-running business process (loan disbursement over days) - how to handle rollbacks?

##### Implement compensation with manual intervention for high-value transactions.

##### How would you ensure compensation doesn't fail (making situation worse)?

##### Partial failure in bulk operations - which transactions to compensate?

##### Implement audit trail for all compensation actions.

##### How would you handle compensation when original data has changed?

##### Compensation triggers another failure - how to prevent infinite loop?

##### Implement compensation timeout and escalation procedures.

##### How would you test compensation logic in banking systems?

##### Compensation for non-reversible actions (OTP sent, cheque printed).

##### How would you monitor compensation success rate and effectiveness?

##### Implement business-specific compensation rules (fees, interest adjustments).

##### How would you handle compensation across organizational boundaries (different banks)?

##### Compensation during system upgrade or migration.

##### Implement automatic vs manual compensation decision logic.

##### How would you prioritize compensation for critical vs non-critical transactions?

##### Compensation for data consistency issues discovered later (reconciliation failures).

##### How would you document and communicate compensation procedures to operations?

============== Routing and Authenti =====

##### Banking app needs to route requests based on customer type (retail, business, private banking).

##### Implement multi-factor authentication for high-value transactions.

##### How would you route mobile app traffic differently from web portal traffic?

##### Regulatory requirement: Session timeout after 15 minutes of inactivity.

##### Implement SSO (Single Sign-On) across multiple banking applications.

##### How would you handle authentication for third-party fintech partners?

##### Customer's device is lost - need to invalidate all active sessions immediately.

##### Implement step-up authentication for sensitive operations (password + OTP + biometric).

##### How would you route traffic during data center failure?

##### Implement API key authentication for internal service-to-service communication.

##### How would you handle authentication for banking chatbots?

##### Customer traveling abroad - how to handle authentication from different countries?

##### Implement role-based routing (teller, manager, admin access to different services).

##### How would you handle authentication for offline banking operations?

##### Implement certificate-based authentication for corporate banking clients.

##### How would you route requests during service maintenance?

##### Regulatory requirement: All authentication attempts must be logged.

##### Implement risk-based authentication (unusual location triggers additional verification).

##### How would you handle authentication token renewal without interrupting user session?

##### Implement OAuth2 for third-party financial aggregators.

##### How would you route requests based on customer's geographic regulations?

##### Implement hardware token authentication for high-net-worth customers.

##### How would you handle authentication for scheduled batch jobs?

##### Implement anonymous access for public banking information (interest rates, branch locations).

##### How would you prevent authentication token theft and replay attacks?

##### In banking microservices, how does API Gateway handle routing to internal services?

##### You need JWT-based auth at Gateway for all APIs. How to validate tokens?

##### How do you propagate JWT from Gateway to downstream services?

##### In a banking app, some APIs use OAuth2, others API keys. How does Gateway route + auth?

##### How do you implement role-based access (e.g., admin vs customer) at Gateway?

##### During token expiry, how does Gateway refresh or return 401 gracefully?

##### How do you handle mutual TLS between Gateway and backend services?

##### In Spring Cloud Gateway, how do you define routes using YAML?

##### You need to add correlation ID in headers during routing. How?

##### How does Gateway route based on headers (e.g., X-Channel: mobile)?

##### In banking, how do you protect /admin endpoints with extra auth layer?

##### How do you integrate Keycloak or Okta with Gateway for auth?

##### During SSO login, how does Gateway redirect to identity provider?

##### How do you handle session-based auth for web portal vs token for mobile?

##### In Gateway, how do you strip sensitive headers before forwarding?

##### You need to rate limit per authenticated user. How to combine auth + rate limiting?

##### How does Gateway handle authentication for public APIs (e.g., IFSC lookup)?

##### In microservices, how do you avoid auth at every service by centralizing at Gateway?

##### How do you log authenticated user details in Gateway for audit?

##### During cert rotation, how does Gateway handle new certificates without downtime?

##### How do you implement API key rotation for partner integrations?

##### In Gateway, how do you support multiple auth mechanisms (JWT + basic)?

##### How does Gateway handle CORS for authenticated requests?

##### You need to block expired/invalid tokens early. How does Gateway validate?

##### In a secure banking setup, how do you combine routing, auth, and encryption?