# 1. Saga Fundamentals & Distributed Transaction Design

## 1.1 In distributed transaction, why avoid 2PC in microservices and use saga?

## 1.2 How would you implement Saga pattern for distributed banking transactions?

## 1.3 In banking, how does eventual consistency work with compensation?

## 1.4 How does choreography differ from orchestration in compensation handling?

# 2. Choreography Saga – Event-Driven Compensation

## 2.1 Using Choreography saga, how does each service publish compensating event?

## 2.2 A multi-step process (debit → fraud check → credit) fails at step 3. How to reverse step 1 & 2?

## 2.3 In account-to-account transfer, how to compensate credit if debit succeeds but credit network fails?

## 2.4 Fund transfer fails after deducting from source account. How would you implement compensation?

# 3. Orchestration Saga – Centralized Rollback Control

## 3.1 In Orchestration saga, central orchestrator triggers rollback on failure. How in banking transfer?

## 3.2 After loan approval, KYC fails. How does compensation reject the loan?

## 3.3 Multi-step loan approval process fails at final step. How would you rollback previous steps?

## 3.4 Long-running business process (loan disbursement over days) – how to handle rollbacks?

# 4. Compensation vs Rollback Decision Logic

## 4.1 A fund transfer debits A, credits B, but notification fails. Do you rollback or compensate?

## 4.2 Database update succeeds but notification fails. How would you handle this inconsistency?

## 4.3 In case of partial failure, how do you decide forward or backward recovery?

## 4.4 Compensation for non-reversible actions (OTP sent, cheque printed).

# 5. Compensating Transaction Implementation

## 5.1 How do you implement compensating transaction for failed inter-service calls?

## 5.2 How does compensation handle business rules (e.g., fees reversal)?

## 5.3 Implement business-specific compensation rules (fees, interest adjustments).

## 5.4 How would you handle compensation when original data has changed?

# 6. Idempotency, Retry & Failure Control

## 6.1 How do you make services idempotent to handle retry during compensation?

## 6.2 During high load, compensation fails. How to make it retryable?

## 6.3 How would you ensure compensation doesn't fail (making situation worse)?

## 6.4 Compensation triggers another failure – how to prevent infinite loop?

# 7. Timeout, Escalation & Long-Running Sagas

## 7.1 In saga, how do you handle timeout and trigger compensation?

## 7.2 How would you handle timeout during distributed transaction?

## 7.3 Implement compensation timeout and escalation procedures.

## 7.4 In long-running sagas (e.g., home loan approval), how do you handle compensation after days?

# 8. External Systems & Cross-Boundary Compensation

## 8.1 Implement compensation for external API failures (payment gateway, credit bureau).

## 8.2 A foreign remittance fails at last step. How does compensation reverse all steps?

## 8.3 How would you handle compensation across organizational boundaries (different banks)?

# 9. Bulk, Batch & Partial Failure Compensation

## 9.1 Batch processing of overnight transactions fails partially. How would you handle compensation?

## 9.2 Partial failure in bulk operations – which transactions to compensate?

## 9.3 Compensation for data consistency issues discovered later (reconciliation failures).

# 10. Reliability Patterns Supporting Compensation

## 10.1 How does outbox pattern help reliable compensation publishing?

## 10.2 In banking core, how do you ensure compensation is atomic per service?

# 11. Audit, Monitoring & Observability

## 11.1 How do you log compensation events for audit in banking?

## 11.2 Implement audit trail for all compensation actions.

## 11.3 How do you monitor saga status and pending compensations?

## 11.4 How would you monitor compensation success rate and effectiveness?

# 12. Testing & Validation of Compensation Logic

## 12.1 How do you test saga rollback scenarios in banking?

## 12.2 How would you test compensation logic in banking systems?

# 13. Operational & Manual Compensation

## 13.1 Implement compensation with manual intervention for high-value transactions.

## 13.2 Implement automatic vs manual compensation decision logic.

## 13.3 How would you prioritize compensation for critical vs non-critical transactions?

## 13.4 Compensation during system upgrade or migration.

## 13.5 How would you document and communicate compensation procedures to operations?