# 1. Client Choice & Communication Model

## Why prefer WebClient over RestTemplate in synchronous banking calls?

## When should banking services communicate synchronously vs asynchronously?

## Why is WebClient better for high-throughput transaction services?

## How does WebClient integrate with Mono / Flux in reactive banking apps?

## How do you design communication for fund transfer (account, transaction, notification services)?

- Blind spot many miss: sync vs async is a business decision, not a tech preference.

# 2. Timeouts, Retries & Network Failures (Prevent cascading failures)

## How do you configure timeouts in RestTemplate for slow external bank APIs?

## How do timeouts prevent RestTemplate from hanging during network glitches?

## How do you set different read/write timeouts per endpoint?

## How do you implement retry logic for idempotent GET calls?

## How do you handle retries for temporary payment gateway failures?

## How do you handle timeouts during peak banking hours?

- Opportunity cost: no timeout = thread exhaustion = system-wide outage.

# 3. Connection Pooling & Scale Issues (Performance & stability under load)

## How do you configure connection pooling & max connections in RestTemplate?

## Why does a service get connection refused during scale-up, and ## How to fix it?

## How do you implement connection pooling for high-volume inter-service traffic?

## How do you handle network latency between data centers?

# 4. Error Handling & Graceful Degradation (Resilience & user experience)

## How do you handle 4xx / 5xx errors uniformly in WebClient?

## How do you use exchangeToMono for custom error handling?

## How do you handle partial failures when calling multiple services?

## How do you implement graceful degradation during service degradation?

# 5. Security, Authentication & Trust (Mandatory in banking)

## How do you add Authorization headers globally in WebClient?

## How does WebClient support OAuth2 client credentials flow?

## How do you implement authentication between internal banking services?

## How do you handle SSL/TLS between services in different security zones?

## How do you call external payment gateways using custom truststore?

## How do you implement request signing for non-repudiation?

## Hard truth: if security is an afterthought, the design is already rejected.

# 6. Observability, Tracing & Logging (Debugging production issues)

## How do you propagate traceId / spanId automatically in WebClient calls?

## How do you implement request tracing across service boundaries?

## How do you log request/response bodies for audit without leaking PII?

## How do you monitor and alert on inter-service communication failures?

## During prod issues, How do you enable detailed WebClient logging?

# 7. Service Discovery & Load Balancing (Dynamic environments)

## How do you use @LoadBalanced RestTemplate for service discovery?

## How does WebClient work with service discovery (Eureka / Consul)?

## Where should circuit breakers be placed in inter-service calls?

## How do you combine WebClient with Resilience4j circuit breakers?

# 8. Parallelism, Streaming & Performance Optimization  (Throughput matters)

## How do you make parallel calls (account + balance) using WebClient + Flux?

## How does WebClient handle large file uploads/downloads?

## How do you stream large account statements between services?

## How do you batch multiple requests to improve performance?

## How do you implement request prioritization for critical operations?

# 9..️ Legacy & Compatibility Concerns (Reality of banking systems)

## How do you migrate RestTemplate → WebClient step-by-step?

## How do you call legacy SOAP services from modern REST microservices?

## How do you handle version compatibility during rolling upgrades?

## How do you handle multiple data formats (JSON, XML, Protobuf)?

# 10. Data Consistency, Idempotency & Caching (Prevent financial errors)

## How do you implement request deduplication for idempotent operations?

## How do you implement caching for frequently accessed data?

## How do you handle external banking APIs (SWIFT, payment networks)?

# 11. Testing & Validation (Before prod surprises)

## How do you mock WebClient in unit tests?

## How do you test inter-service communication in isolation?

## How do you simulate external API failures during testing?

## What are the drawbacks of using FeignClient in Production?